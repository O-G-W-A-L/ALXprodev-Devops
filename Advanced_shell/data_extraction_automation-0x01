#!/bin/bash

# Ensure data.json exists
if [ ! -f "data.json" ]; then
  echo "Error: data.json not found."
  exit 1
fi

# Extract and format the required fields using jq
name=$(jq -r '.name | capitalize' data.json)
height_dm=$(jq -r '.height' data.json)
weight_hg=$(jq -r '.weight' data.json)
types=$(jq -r '.types | map(.type.name | capitalize) | join(", ")' data.json)

# Convert to proper units using awk
height_m=$(awk -v h="$height_dm" 'BEGIN {printf "%.1f", h / 10}')
weight_kg=$(awk -v w="$weight_hg" 'BEGIN {printf "%.0f", w / 10}')

# Final formatted output
echo "$name is of type $types, weighs ${weight_kg}kg, and is ${height_m}m tall."